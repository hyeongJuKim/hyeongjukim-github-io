<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><title>React + Django Project 만들기</title><link rel="shortcut icon" href="/images/avatar.png"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css"><script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script><link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head><body><nav class="main-nav"><a href="/">Home</a><a href="/about">About</a><a href="/archives">Archives</a></nav><div class="profile"><section id="wrapper"><header id="header"><a href="/about"><img class="2x" id="avatar" src="/images/avatar.png"></a><h1>HJ</h1><h2></h2></header></section></div><section class="post" id="wrapper"><article><header><h1>React + Django Project 만들기</h1><h2 class="headline">Jun 05, 2019 9:02·362 words
·2 minutes read<span class="tags"></span></h2></header><div id="toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#React-Django-Project-만들기"><span class="toc-text">React + Django Project 만들기</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#required"><span class="toc-text">required</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#info"><span class="toc-text">info</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#install-pipenv"><span class="toc-text">install pipenv</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#install-django"><span class="toc-text">install django</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#setting-django"><span class="toc-text">setting django</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#모델과-어드민-파일-다루기"><span class="toc-text">모델과 어드민 파일 다루기</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#install-rest-framework"><span class="toc-text">install rest_framework</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#react-app-설치하기"><span class="toc-text">react app 설치하기</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#마치며"><span class="toc-text">마치며..</span></a></li></ol></div><section id="post-body"><h1 id="React-Django-Project-만들기"><a href="#React-Django-Project-만들기" class="headerlink" title="React + Django Project 만들기"></a>React + Django Project 만들기</h1><blockquote>
<p>react를 frontend로 django를 backend로 사용하기 !</p>
</blockquote>
<h1 id="required"><a href="#required" class="headerlink" title="required"></a>required</h1><ul>
<li>pipenv</li>
<li>pyhon3</li>
<li>django</li>
</ul>
<h1 id="info"><a href="#info" class="headerlink" title="info"></a>info</h1><ul>
<li>project name: <code>backend</code></li>
<li>app name: <code>oneLine</code></li>
<li>frontend app name: <code>frontend</code></li>
</ul>
<h1 id="install-pipenv"><a href="#install-pipenv" class="headerlink" title="install pipenv"></a>install pipenv</h1><pre class=" language-bash"><code class="language-bash">$ brew <span class="token function">install</span> pipenv <span class="token comment" spellcheck="true"># Mac OS 기준</span>
</code></pre>
<p>Python에서 권장하는 python 가상환경 설정 패키지를 설치한다.</p>
<h1 id="install-django"><a href="#install-django" class="headerlink" title="install django"></a>install django</h1><pre class=" language-bash"><code class="language-bash">$ <span class="token function">cd</span> <span class="token operator">&lt;</span>프로젝트 디렉토리명<span class="token operator">></span>
$ pipenv --three
$ pipenv shell
</code></pre>
<p>해당 디렉토리로 이동 후에 python3 가상 환경을 만들고 shell 명령어로 실행합니다.</p>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">(</span>dirname<span class="token punctuation">)</span>$ pipenv <span class="token function">install</span> django
<span class="token punctuation">(</span>dirname<span class="token punctuation">)</span>$ django-admin startproject backend <span class="token keyword">.</span>
</code></pre>
<p>pipenv를 통해 django를 설치하고, <code>backend</code>라는 이름으로 django app을 생성합니다</p>
<pre class=" language-bash"><code class="language-bash">$ python manage.py startapp oneLine
</code></pre>
<p><code>onLine</code>라는 이름의 django 앱을 하나 생성합니다.  </p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># backend/settings.py 설정 변경</span>
INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># 만든 앱을 추가해주세요.</span>
    <span class="token string">'oneLine.apps.OnelineConfig'</span>
<span class="token punctuation">]</span>

TIME_ZONE <span class="token operator">=</span> <span class="token string">'Asia/Seoul'</span>
</code></pre>
<h1 id="setting-django"><a href="#setting-django" class="headerlink" title="setting django"></a>setting django</h1><pre class=" language-bash"><code class="language-bash">$ python manage.py migrate
$ python manage.py createsuperuser
</code></pre>
<p>super-user 생성</p>
<pre class=" language-bash"><code class="language-bash">$ python manage.py runserver
</code></pre>
<p><code>localhost:8000/admin</code>에서 정상적으로 접속되는지 확인하기.</p>
<h1 id="모델과-어드민-파일-다루기"><a href="#모델과-어드민-파일-다루기" class="headerlink" title="모델과 어드민 파일 다루기"></a>모델과 어드민 파일 다루기</h1><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># oneLine/models.py</span>

<span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models

<span class="token keyword">class</span> <span class="token class-name">WiseSaying</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    text <span class="token operator">=</span> models<span class="token punctuation">.</span>TextField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>text
</code></pre>
<p><code>wisesaying</code> 클래스 추가하기.</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># oneLine/admin.py</span>

<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> WiseSaying


admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>WiseSaying<span class="token punctuation">)</span>
</code></pre>
<p>admin에 추가하기.  </p>
<pre class=" language-bash"><code class="language-bash">$ python manage.py makemigrations
$ python manage.py migrate
</code></pre>
<p>다시 한번 마이크레이트를 한다.</p>
<h1 id="install-rest-framework"><a href="#install-rest-framework" class="headerlink" title="install rest_framework"></a>install rest_framework</h1><pre class=" language-bash"><code class="language-bash">$ pipenv <span class="token function">install</span> djangorestframework
</code></pre>
<p>djangp rest framework app 설치</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># backend/settings.py</span>
INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'rest_framework'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>
<p>설치한 엡 적용하기.</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># oneLine/serializers.py</span>

<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> WiseSaying

<span class="token comment" spellcheck="true"># 직렬화</span>
<span class="token keyword">class</span> <span class="token class-name">WiseSayingSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> WiseSaying
        fields <span class="token operator">=</span> <span class="token string">'__all__'</span>
</code></pre>
<p>파일 생성해서 직렬화를 하자.  </p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># oneLine/views.py에 추가</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> viewsets
<span class="token keyword">from</span> <span class="token punctuation">.</span>serializers <span class="token keyword">import</span> WiseSayingSerializer
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> WiseSaying


<span class="token keyword">class</span> <span class="token class-name">WiseSayingView</span><span class="token punctuation">(</span>viewsets<span class="token punctuation">.</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    serializer_class <span class="token operator">=</span> WiseSayingSerializer
    queryset <span class="token operator">=</span> WiseSaying<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># backend/urls.py에 rest를 확인 할 수 있도록 url을 추가하자.</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> routers
<span class="token keyword">from</span> oneLine <span class="token keyword">import</span> views

router <span class="token operator">=</span> routers<span class="token punctuation">.</span>DefaultRouter<span class="token punctuation">(</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'wisesaying'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>WiseSayingView<span class="token punctuation">,</span> <span class="token string">'wisesaying'</span><span class="token punctuation">)</span>

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'api/'</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span>router<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>

</code></pre>
<h1 id="react-app-설치하기"><a href="#react-app-설치하기" class="headerlink" title="react app 설치하기"></a>react app 설치하기</h1><pre class=" language-bash"><code class="language-bash">$ npx create-react-app frontend
</code></pre>
<pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>
<span class="token property">"proxy"</span><span class="token operator">:</span> <span class="token string">"http://localhost:8000"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<p>frontend/package.json에서 port 변경하기</p>
<h1 id="마치며"><a href="#마치며" class="headerlink" title="마치며.."></a>마치며..</h1><p>이 글은  <a href="https://justmakeyourself.tistory.com/entry/django-connect-react" target="_blank" rel="noopener">https://justmakeyourself.tistory.com/entry/django-connect-react</a> 을 참고해서 작성했습니다.</p>
</section><nav id="post-nav"><span class="prev"></span><span class="next"><a href="/2019/05/27/hexo-blog/">Older Posts<span class="arrow">→</span></a></span></nav></article></section><footer id="footer"><div id="social"><a class="symbol" href="https://github.com/hyeongJuKim" target="_blank"><i class="fa fa-github"></i></a><a class="symbol" href="https://www.instagram.com/hyeong._.ju/" target="_blank"><i class="fa fa-instagram"></i></a><a class="symbol" href="https://web.facebook.com/madeindaejeon" target="_blank"><i class="fa fa-facebook"></i></a></div><p class="small">© Copyright 2018 &nbsp;<i class="fa fa-heart" aria-hidden="true">&nbsp;Dxx</i></p><p class="small">Powered by &nbsp;<a href="https://hexo.io/">Hexo &nbsp;</a>Theme By &nbsp;<a href="https://github.com/fuzhouxxdong/hexo-theme-dxx">Dxx</a></p></footer><script>hljs.initHighlightingOnLoad();</script></body></html>